<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{space.property_name}} - Bed'n'Brew</title>
	<link rel="stylesheet" type="text/css" href="../../static/style.css">
</head>
<body>

    <div class="single-space-item">
        <img class="space-image" src={{space.image_url}}>
        <div class="space-details">
            <h3 class="page-header">{{space.property_name}}</h3>
			<span class="location">{{space.property_type}} in {{space.location}} |</span>
            <span class="price">¬£{{space.price_per_night}} per night |</span>
            <span class="beds">{{space.beds}} {% if space.beds == 1 %}bed{% else %}beds{% endif %} | </span>
            <span class="rating">
				{% for star in range(space.rating) %}
					<strong class="star">‚≠êÔ∏è</strong>
                {% endfor %}
			</span>
            <p class="space-description">{{ space.description }}</p>
        </div>
    </div>
    <div class="dates-available">
        <h3 class="section-header">Dates Available</h3>
        <span>üóìÔ∏è {{space.availability}}</span>
        <form method="POST">
            <div class="calendar-container">
                <!-- Previous Month -->
                <button type="submit" name="direction" value="previous">‚Üê</button>
        
                <!-- Current Month -->
                <div class="calendar">
                    <h3>{{ month_name_current }} {{ current_year }}</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Mon</th>
                                <th>Tue</th>
                                <th>Wed</th>
                                <th>Thu</th>
                                <th>Fri</th>
                                <th>Sat</th>
                                <th>Sun</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for week in cal_current %}
                                <tr>
                                    {% for day in week %}
                                        <td class="{% if day != 0 %}
                                                {% if start_date is not none and (day == start_date or day == end_date) %}
                                                    selected-range
                                                {% elif start_date is not none and end_date is not none and start_date <= day <= end_date %}
                                                    highlighted
                                                {% endif %}
                                            {% endif %}">
                                            {% if day != 0 %}
                                                <input type="radio" name="start_date" value="{{ day }}" class="calendar-day" /> {{ day }}
                                            {% else %}
                                                &nbsp;
                                            {% endif %}
                                        </td>
                                    {% endfor %}
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
        
                <!-- Next Month -->
                <div class="calendar">
                    <h3>{{ month_name_next }} {{ current_year }}</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Mon</th>
                                <th>Tue</th>
                                <th>Wed</th>
                                <th>Thu</th>
                                <th>Fri</th>
                                <th>Sat</th>
                                <th>Sun</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for week in cal_next %}
                                <tr>
                                    {% for day in week %}
                                        <td class="{% if day != 0 %}
                                                {% if start_date is not none and (day == start_date or day == end_date) %}
                                                    selected-range
                                                {% elif start_date is not none and end_date is not none and start_date <= day <= end_date %}
                                                    highlighted
                                                {% endif %}
                                            {% endif %}">
                                            {% if day != 0 %}
                                                <input type="radio" name="end_date" value="{{ day }}" class="calendar-day" /> {{ day }}
                                            {% else %}
                                                &nbsp;
                                            {% endif %}
                                        </td>
                                    {% endfor %}
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
        
                <!-- Next Month -->
                <button type="submit" name="direction" value="next">‚Üí</button>
            </div>
        
            <div class="calendar-submit">
                <input type="submit" value="Select Date Range">
            </div>
            
        </form>
    </div>
        
    <div class="host-contact-details">
        <h3 class="section-header">Contact Details</h3>
        <span class="host-name">üë§ {{host.first_name}} {{host.last_name}} </span>
        <span class="phone-number">‚òéÔ∏è {{host.contact_number}}</span>
        <span class="email">üìß {{host.email}}</span>
    </div>
    
    <div> 
        <a class="back-button" href="/spaces">Back</a>
    </div>

</body>
</html>


